package com.bridgelabz.fundoo_notes.service;

import java.util.Date;

import org.modelmapper.ModelMapper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.core.env.Environment;

import com.bridgelabz.fundoo_notes.dto.NoteDto;
import com.bridgelabz.fundoo_notes.entity.Note;
import com.bridgelabz.fundoo_notes.entity.User;
import com.bridgelabz.fundoo_notes.repository.NotesRepository;
import com.bridgelabz.fundoo_notes.utility.ApiResponse;

public class NoteService implements INoteService{
	
	@Autowired
    ModelMapper modelMapper;
	
	@Autowired
	NotesRepository noteRepo;
	
	 @Autowired
	    Environment environment;
	    
	    @Autowired
	    ApiResponse apiResponse;
	    

	@Override
	public ApiResponse addNote(NoteDto noteDto) {
		Note note = modelMapper.map(noteDto, Note.class);
        noteRepo.save(note);
    	apiResponse = new ApiResponse(environment.getProperty("note.addedSuccessfully"), 1, null);
    	
    	return apiResponse;
	}

}
